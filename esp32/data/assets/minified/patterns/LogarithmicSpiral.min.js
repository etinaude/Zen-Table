class LogarithmicSpiral{constructor(){this.key="logspiral",this.name="Spiral (Logarithmic)",this.config={a:{name:"a",value:null,input:{type:"createSlider",params:[-1,1,1,.1],class:"slider",displayValue:!0}},b:{name:"b",value:null,input:{type:"createSlider",params:[-1,0,-.25,.01],class:"slider",displayValue:!0}},revolutions:{name:"Revolutions",value:null,input:{type:"createSlider",params:[1,60,4,1],class:"slider",displayValue:!0}},rotate:{name:"Rotate",value:null,input:{type:"createSlider",params:[0,360,0,1],class:"slider",displayValue:!0}},reverse:{name:"Reverse",value:null,input:{type:"createCheckbox",attributes:[{type:"checkbox",checked:null}],params:[0,1,0],displayValue:!1}}},this.path=[]}draw(){this.config.a.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(1) > input").value),this.config.b.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(2) > input").value),this.config.revolutions.value=parseInt(document.querySelector("#pattern-controls > div:nth-child(3) > input").value),this.config.rotate.value=parseInt(document.querySelector("#pattern-controls > div:nth-child(4) > input").value),document.querySelector("#pattern-controls > div.pattern-control:nth-child(1) > span").innerHTML=this.config.a.value.toFixed(2)+" * r<sub>max</sub>",document.querySelector("#pattern-controls > div.pattern-control:nth-child(2) > span").innerHTML=this.config.b.value.toFixed(2),document.querySelector("#pattern-controls > div.pattern-control:nth-child(3) > span").innerHTML=this.config.revolutions.value,document.querySelector("#pattern-controls > div.pattern-control:nth-child(4) > span").innerHTML=this.config.rotate.value+"Â°";let path=this.calc(this.config.a.value,this.config.b.value,this.config.revolutions.value,60);return this.path=path,this.config.rotate.value>0&&(path=this.rotate_around_center(path)),path}calc(a,b,revolutions,sides){var x,y,theta=0,max_r=Math.min(max_x-min_x,max_y-min_y)/2,path=new Array;let theta_max=(revolutions+1/sides)*(2*Math.PI),delta_theta=2*Math.PI/sides;for(var theta=0;theta<theta_max;theta+=delta_theta)x=max_r*a*Math.exp(b*theta)*Math.cos(theta),y=max_r*a*Math.exp(b*theta)*Math.sin(theta),path.push([x,y]);return path}rotate_around_center(path){var theta=this.config.rotate.value*(Math.PI/180);return path.map((function(a){var x=a[0],y=a[1];return[x*Math.cos(theta)-y*Math.sin(theta),x*Math.sin(theta)+y*Math.cos(theta)]}))}}