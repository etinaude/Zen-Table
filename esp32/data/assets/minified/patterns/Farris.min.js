class Farris{constructor(){this.key="farris",this.name="Farris Curve",this.path_sampling_optimization=2,this.config={A:{name:"A Coefficient",value:null,input:{type:"createSlider",params:[0,20,1,1],class:"slider",displayValue:!0}},B:{name:"B Coefficient",value:null,input:{type:"createSlider",params:[0,20,6,1],class:"slider",displayValue:!0}},C:{name:"C Coefficient",value:null,input:{type:"createSlider",params:[0,20,14,1],class:"slider",displayValue:!0}},scale:{name:"Scale",value:null,input:{type:"createSlider",params:[0,100,25,1],class:"slider",displayValue:!0}},rotation:{name:"Rotation",value:null,input:{type:"createSlider",params:[-180,180,0,1],class:"slider",displayValue:!0}}},this.path=[]}draw(){this.config.A.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(1) > input").value),this.config.B.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(2) > input").value),this.config.C.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(3) > input").value),this.config.scale.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(4) > input").value),this.config.rotation.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(5) > input").value),document.querySelector("#pattern-controls > div.pattern-control:nth-child(1) > span").innerHTML=this.config.A.value.toFixed(0),document.querySelector("#pattern-controls > div.pattern-control:nth-child(2) > span").innerHTML=this.config.B.value.toFixed(0),document.querySelector("#pattern-controls > div.pattern-control:nth-child(3) > span").innerHTML=this.config.C.value.toFixed(0),document.querySelector("#pattern-controls > div.pattern-control:nth-child(4) > span").innerHTML=this.config.scale.value.toFixed(0)+"%",document.querySelector("#pattern-controls > div.pattern-control:nth-child(5) > span").innerHTML=this.config.rotation.value.toFixed(0)+"Â°";let path=this.calc(Math.min(max_x-min_x,max_y-min_y),this.config.A.value,this.config.B.value,this.config.C.value,this.config.scale.value,this.config.rotation.value);return this.path=path,path}calc(radius,A,B,C,scale,rotation){var x,y,theta=0,path=new Array,step=0;let period=2*Math.PI,steps_per_revolution=1e3;for(;theta<period;)theta=step/1e3*period,x=scale/100*radius*(Math.cos(A*theta)+Math.cos(B*theta)/2+Math.sin(C*theta)/3),y=scale/100*radius*(Math.sin(A*theta)+Math.sin(B*theta)/2+Math.cos(C*theta)/3),path.push([x,y]),step++;return rotation-=180*Math.atan2(1/3,1.5)/Math.PI,path=path.map((function(element){return this.rotationMatrix(element[0],element[1],rotation*(Math.PI/180))}),this)}rotationMatrix(x,y,theta){return[x*Math.cos(theta)-y*Math.sin(theta),x*Math.sin(theta)+y*Math.cos(theta)]}}