class Fibonacci{constructor(){this.key="fibonacci",this.name="Fibonacci",this.config={decay:{name:"Decay Factor",value:null,input:{type:"createSlider",params:[-.02,-.001,-.004,1e-4],class:"slider",displayValue:!0}},rtc:{name:"Return to Center",value:null,input:{type:"createCheckbox",attributes:[{type:"checkbox",checked:null}],params:[0,1,0],displayValue:!1}},reverse:{name:"Reverse",value:null,input:{type:"createCheckbox",attributes:[{type:"checkbox",checked:null}],params:[0,1,0],displayValue:!1}}},this.path=[]}draw(){this.config.decay.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(1) > input").value),this.config.rtc.value=!1,document.querySelector("#pattern-controls > div:nth-child(2) > input[type=checkbox]").checked&&(this.config.rtc.value=!0),document.querySelector("#pattern-controls > div.pattern-control:nth-child(1) > span").innerHTML=this.config.decay.value.toFixed(4);let path=this.calc(this.config.decay.value,this.config.rtc.value);return this.path=path,path}calc(radius_shrink_factor,return_to_center){for(var path=new Array,r_max=Math.min(max_x-min_x,max_y-min_y)/2,r,theta,x,y,r_min=ball_size/2,i_max=Math.log(r_min/r_max)/radius_shrink_factor,i=0;i<i_max;i++)theta=i*Math.PI*(3-Math.sqrt(5)),x=(r=r_max*Math.exp(radius_shrink_factor*i))*Math.cos(theta),y=r*Math.sin(theta),path.push([x,y]),return_to_center&&path.push([0,0]);return return_to_center||path.push([0,0]),path}}