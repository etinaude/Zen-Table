class Star{constructor(){this.key="star",this.name="Star",this.config={points:{name:"Points",value:null,input:{type:"createSlider",params:[2,12,5,1],class:"slider",displayValue:!0}},pointiness:{name:"Pointiness",value:null,input:{type:"createSlider",params:[0,1,.5,.01],class:"slider",displayValue:!0}},revolutions:{name:"Revolutions",value:null,input:{type:"createSlider",params:[1,60,20,1],class:"slider",displayValue:!0}},twist:{name:"Twist",value:null,input:{type:"createSlider",params:[-1,1,0,.01],class:"slider",displayValue:!0}},reverse:{name:"Reverse",value:null,input:{type:"createCheckbox",attributes:[{type:"checkbox",checked:null}],params:[0,1,0],displayValue:!1}}},this.path=[]}draw(){this.config.points.value=parseInt(document.querySelector("#pattern-controls > div:nth-child(1) > input").value),this.config.pointiness.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(2) > input").value),this.config.revolutions.value=parseInt(document.querySelector("#pattern-controls > div:nth-child(3) > input").value),this.config.twist.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(4) > input").value),document.querySelector("#pattern-controls > div.pattern-control:nth-child(1) > span").innerHTML=this.config.points.value,document.querySelector("#pattern-controls > div.pattern-control:nth-child(2) > span").innerHTML=this.config.pointiness.value.toFixed(2),document.querySelector("#pattern-controls > div.pattern-control:nth-child(3) > span").innerHTML=this.config.revolutions.value,document.querySelector("#pattern-controls > div.pattern-control:nth-child(4) > span").innerHTML=this.config.twist.value.toFixed(2)+" Revs";let path=this.calc(0,0,0,0,this.config.revolutions.value,this.config.points.value,this.config.pointiness.value,this.config.twist.value);return this.path=path,path}calc(start_x,start_y,start_r,start_theta,revolutions,points,pointiness,twist){for(var x,y,r=start_r,theta=start_theta,path=new Array,max_r=Math.min(max_x-min_x,max_y-min_y)/2,sides,i_max=2*points*revolutions,theta_max=2*Math.PI*revolutions,theta_twist,i=0;i<=i_max;i++)theta=i/i_max*theta_max-(theta_twist=(i_max-i)/i_max*twist*(2*Math.PI)),x=start_x+(r=start_r+max_r*(i/i_max)*(1-i%2*pointiness))*Math.cos(theta),y=start_y+r*Math.sin(theta),path.push([x,y]);return path}}