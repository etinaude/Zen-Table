class FermatSpiral{constructor(){this.key="fermatspiral",this.name="Fermat's Spiral",this.config={revolutions:{name:"Revolutions",value:null,input:{type:"createSlider",params:[1,10,3,1],class:"slider",displayValue:!0}},return:{name:"Return Home",value:null,input:{type:"createCheckbox",attributes:[{type:"checkbox",checked:null}],params:[0,1,0],displayValue:!1}},reverse:{name:"Reverse",value:null,input:{type:"createCheckbox",attributes:[{type:"checkbox",checked:null}],params:[0,1,0],displayValue:!1}}},this.path=[]}draw(){this.config.revolutions.value=parseInt(document.querySelector("#pattern-controls > div:nth-child(1) > input").value),document.querySelector("#pattern-controls > div.pattern-control:nth-child(1) > span").innerHTML=this.config.revolutions.value,this.config.return.value=!1,document.querySelector("#pattern-controls > div:nth-child(2) > input[type=checkbox]").checked&&(this.config.return.value=!0);let path=this.calc(this.config.revolutions.value,this.config.return.value);return this.path=path,path}calc(revolutions,return_to_home){var x,y,path=new Array,step=0;const pow_n=1;let a=30/revolutions;const steps_per_revolution=60,t_min=0*revolutions,t_max=revolutions*(2*Math.PI),t_step=(t_max-t_min)/(60*revolutions);for(var t=t_max;t>=t_min;t-=t_step)x=a*Math.pow(t,1)*Math.cos(t),y=a*Math.pow(t,1)*Math.sin(t),path.push([x,y]);for(var t=t_min;t<=t_max+t_step;t+=t_step)x=-a*Math.pow(t,1)*Math.cos(t),y=-a*Math.pow(t,1)*Math.sin(t),path.push([x,y]);if(return_to_home){var i_max=24;let r=Math.min(max_x-min_x,max_y-min_y)/2;for(var i=1;i<=24;i++)path.push([r*Math.cos(i/24*Math.PI+Math.PI),r*Math.sin(i/24*Math.PI+Math.PI)]);path.push([r,0])}return path}}