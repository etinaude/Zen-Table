class Spiral{constructor(){this.key="spiral",this.name="Spiral",this.config={sides:{name:"Sides",value:null,input:{type:"createSlider",params:[3,60,12,1],class:"slider",displayValue:!0}},revolutions:{name:"Revolutions",value:null,input:{type:"createSlider",params:[1,60,20,1],class:"slider",displayValue:!0}},start_r:{name:"Start Radius",value:null,input:{type:"createSlider",params:[0,1,0,.01],class:"slider",displayValue:!0}},start_theta:{name:"Start Theta",value:null,input:{type:"createSlider",params:[0,360,0,1],class:"slider",displayValue:!0}},twist:{name:"Twist",value:null,input:{type:"createSlider",params:[-1,1,0,.01],class:"slider",displayValue:!0}},noise:{name:"Noise",value:null,input:{type:"createSlider",params:[0,50,0,1],class:"slider",displayValue:!0}},reverse:{name:"Reverse",value:null,input:{type:"createCheckbox",attributes:[{type:"checkbox",checked:null}],params:[0,1,0],displayValue:!1}}},this.path=[]}draw(){this.config.sides.value=parseInt(document.querySelector("#pattern-controls > div:nth-child(1) > input").value),this.config.revolutions.value=parseInt(document.querySelector("#pattern-controls > div:nth-child(2) > input").value),this.config.start_r.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(3) > input").value),this.config.start_theta.value=parseInt(document.querySelector("#pattern-controls > div:nth-child(4) > input").value),this.config.twist.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(5) > input").value),this.config.noise.value=parseFloat(document.querySelector("#pattern-controls > div:nth-child(6) > input").value),document.querySelector("#pattern-controls > div.pattern-control:nth-child(1) > span").innerHTML=this.config.sides.value,document.querySelector("#pattern-controls > div.pattern-control:nth-child(2) > span").innerHTML=this.config.revolutions.value,document.querySelector("#pattern-controls > div.pattern-control:nth-child(3) > span").innerHTML=this.config.start_r.value.toFixed(2),document.querySelector("#pattern-controls > div.pattern-control:nth-child(4) > span").innerHTML=this.config.start_theta.value+"Â°",document.querySelector("#pattern-controls > div.pattern-control:nth-child(5) > span").innerHTML=this.config.twist.value,document.querySelector("#pattern-controls > div.pattern-control:nth-child(6) > span").innerHTML=this.config.noise.value;let path=this.calc(this.config.start_r.value,this.config.start_theta.value,this.config.revolutions.value,this.config.sides.value,this.config.twist.value,this.config.noise.value);return this.path=path,path}calc(start_r,start_theta,revolutions,sides,twist,noise){for(var x,y,r,theta,max_r=Math.min(max_x-min_x,max_y-min_y)/2,start_x=start_r*max_r*Math.cos(start_theta*(Math.PI/180)),start_y=start_r*max_r*Math.sin(start_theta*(Math.PI/180)),path=new Array,i_max=sides*revolutions,theta_max=2*Math.PI*revolutions,theta_twist,i=0;i<=i_max;i++)theta=i/i_max*theta_max-(theta_twist=(i_max-i)/i_max*twist*(2*Math.PI)),r=max_r*(i/i_max),noise>0&&i>0&&i<i_max&&(r-=noise*Math.random()),x=r*Math.cos(theta),y=r*Math.sin(theta),x+=i/i_max*-start_x+start_x,y+=i/i_max*-start_y+start_y,path.push([x,y]);return path}}