function drawPath(path,pathWidth=1,connected=!0,animated=!0,showPlotter=!1){noFill(),stroke(128,164,200),strokeCap(ROUND),strokeWeight(pathWidth),max_r=Math.min(max_x-min_x,max_y-min_y)/2,push(),scale(1,-1),translate(width/2,-height/2);let i_max=path.length;animated&&(i_max=draw_iteration%path.length),stroke(240,240,240),beginShape();for(var i=0;i<path.length;i++)vertex(path[i][0],path[i][1]);if(endShape(),showPlotter){if("cartesian"==env.table.format&&(stroke(0,0,0,16),line(-(max_x-min_x)/2+ball_size/2,path[i_max][1],(max_x-min_x)/2,path[i_max][1]),fill(0,0,0,16),noStroke(),triangle(-(max_x-min_x)/2,path[i_max][1]-ball_size/2,-(max_x-min_x)/2,path[i_max][1]+ball_size/2,-(max_x-min_x)/2+ball_size/2,path[i_max][1]),stroke(0,0,0,16),line(path[i_max][0],(max_y-min_y)/2,path[i_max][0],-(max_y-min_y)/2+ball_size/2),fill(0,0,0,16),noStroke(),triangle(path[i_max][0]+ball_size/2,-(max_y-min_y)/2,path[i_max][0]-ball_size/2,-(max_y-min_y)/2,path[i_max][0],-(max_y-min_y)/2+ball_size/2)),"polar"==env.table.format){stroke(0,0,0,16);let arm_radius=Math.min(max_x-min_x,max_y-min_y)/2,theta=Math.atan2(path[i_max][1],path[i_max][0]);line((arm_radius-ball_size/2)*cos(theta),(arm_radius-ball_size/2)*sin(theta),-arm_radius*cos(theta),-arm_radius*sin(theta)),fill(0,0,0,16),noStroke(),triangle((arm_radius-ball_size/2)*cos(theta),(arm_radius-ball_size/2)*sin(theta),arm_radius*cos(theta+1/60*Math.PI),arm_radius*sin(theta+1/60*Math.PI),arm_radius*cos(theta-1/60*Math.PI),arm_radius*sin(theta-1/60*Math.PI))}if(noStroke(),fill(128),push(),scale(1,-1),"cartesian"==env.table.format)textAlign(CENTER),text((path[i_max][0]+(max_x-min_x)/2).toFixed(1),path[i_max][0],(max_y-min_y)/2+12),textAlign(RIGHT),text((path[i_max][1]+(max_y-min_y)/2).toFixed(1),-((max_x-min_x)/2+2),-(path[i_max][1]-4));else if("polar"==env.table.format){textAlign(LEFT);let rho=Math.sqrt(Math.pow(path[i_max][0],2)+Math.pow(path[i_max][1],2))/max_r,theta=Math.atan2(path[i_max][1],path[i_max][0]);theta<0&&(theta+=2*Math.PI),textAlign(RIGHT),text("rho: "+rho.toFixed(2)+"\ntheta: "+theta.toFixed(2),max_r,max_r-40)}pop()}if(connected){stroke(46,200,240),beginShape();for(var i=0;i<=i_max;i++)vertex(path[i][0],path[i][1]);endShape(),noStroke(),animated&&(fill(255,255,0,128),ellipse(path[i_max][0],path[i_max][1],ball_size/2,ball_size/2))}else{let c=color(128,24*cos(i/path.length*TWO_PI)+164,200);for(var i=0;i<i_max;i++)stroke(250),strokeCap(SQUARE),strokeWeight(4*pathWidth),line(path[i][0],path[i][1],path[i+1][0],path[i+1][1]),strokeCap(PROJECT),strokeWeight(pathWidth),stroke(c),line(path[i][0],path[i][1],path[i+1][0],path[i+1][1]);noStroke(),animated&&(fill(c),ellipse(path[i_max][0],path[i_max][1],ball_size/2,ball_size/2))}noStroke(),fill(0,255,0,128),ellipse(path[0][0],path[0][1],ball_size/2,ball_size/2),noStroke(),fill(255,0,0,128),ellipse(path[path.length-1][0],path[path.length-1][1],ball_size/2,ball_size/2),pop()}